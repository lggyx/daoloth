<% if (page.posts.length > 0) { %>
  <div id="recent-posts">
    <h1>最新文章</h1>
    <% page.posts.sort('date', -1).each(function(post) { %>
      <div class="recent-post-item">
        <h2><a href="<%= url_for(post.path) %>"><%= post.title %></a></h2>
        <div class="post-meta">
          <time datetime="<%= post.date.toJSON() %>">
            <%= date(post.date) %>
          </time>
          | 阅读时间: <%= Math.ceil(post.content.length / 400) %> 分钟
        </div>
        <div class="post-excerpt">
          <% if (post.excerpt) { %>
            <%- post.excerpt %>
          <% } else { %>
            <p><%= post.content ? post.content.substring(0, 200) + '...' : '' %></p>
          <% } %>
        </div>
      </div>
    <% }); %>
  </div>
  
  <!-- 分页 -->
  <% if (page.total > 1) { %>
    <nav class="pagination">
      <% if (page.prev) { %>
        <a href="<%= url_for(page.prev_link) %>">&laquo; 上一页</a>
      <% } %>
      
      <span class="page-number">第 <%= page.current %> 页，共 <%= page.total %> 页</span>
      
      <% if (page.next) { %>
        <a href="<%= url_for(page.next_link) %>">下一页 &raquo;</a>
      <% } %>
    </nav>
  <% } %>
<% } %>

<style>
.pagination {
  margin-top: 30px;
  text-align: center;
  padding: 20px 0;
}

.pagination a {
  display: inline-block;
  padding: 8px 16px;
  margin: 0 5px;
  text-decoration: none;
  background-color: #0066cc;
  color: white;
  border-radius: 4px;
  transition: background-color 0.3s;
}

.pagination a:hover {
  background-color: #0052a3;
}

.page-number {
  margin: 0 15px;
  color: #666;
}
</style>